"use strict";define("forum/account/categories",["forum/account/header"],function(t){var n={};n.init=function(){t.init();ajaxify.data.categories.forEach(function(t){a(t.cid)});$('[component="category/watch/all"]').find('[component="category/watching"], [component="category/ignoring"], [component="category/notwatching"]').on("click",function(){var t=[];var n=$(this).attr("data-state");$('[data-parent-cid="0"]').each(function(n,a){t.push($(a).attr("data-cid"))});socket.emit("categories.setWatchState",{cid:t,state:n,uid:ajaxify.data.uid},function(t,a){if(t){return app.alertError(t.message)}c(a,n)})})};function a(t){var n=$('[data-cid="'+t+'"]');n.find('[component="category/watching"], [component="category/ignoring"], [component="category/notwatching"]').on("click",function(){var n=$(this);var a=n.attr("data-state");socket.emit("categories.setWatchState",{cid:t,state:a,uid:ajaxify.data.uid},function(t,n){if(t){return app.alertError(t.message)}c(n,a);app.alertSuccess("[[category:"+a+".message]]")})})}function c(t,n){t.forEach(function(t){var a=$('[data-cid="'+t+'"]');a.find('[component="category/watching/menu"]').toggleClass("hidden",n!=="watching");a.find('[component="category/watching/check"]').toggleClass("fa-check",n==="watching");a.find('[component="category/notwatching/menu"]').toggleClass("hidden",n!=="notwatching");a.find('[component="category/notwatching/check"]').toggleClass("fa-check",n==="notwatching");a.find('[component="category/ignoring/menu"]').toggleClass("hidden",n!=="ignoring");a.find('[component="category/ignoring/check"]').toggleClass("fa-check",n==="ignoring")})}return n});
//# sourceMappingURL=categories.js.map