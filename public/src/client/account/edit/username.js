"use strict";define("forum/account/edit/username",["forum/account/header","api","slugify"],function(e,r,a){var n={};n.init=function(){e.init();$("#submitBtn").on("click",function e(){var n={uid:$("#inputUID").val(),username:$("#inputNewUsername").val(),password:$("#inputCurrentPassword").val()};if(!n.username){return}if(n.username===n.password){return app.alertError("[[user:username_same_as_password]]")}var t=$(this);t.addClass("disabled").find("i").removeClass("hide");r.put("/users/"+n.uid,n).then(e=>{t.removeClass("disabled").find("i").addClass("hide");var r=a(n.username);if(n.username&&r&&parseInt(n.uid,10)===parseInt(app.user.uid,10)){$('[component="header/profilelink"]').attr("href",config.relative_path+"/user/"+r);$('[component="header/profilelink/edit"]').attr("href",config.relative_path+"/user/"+r+"/edit");$('[component="header/profilelink/settings"]').attr("href",config.relative_path+"/user/"+r+"/settings");$('[component="header/username"]').text(n.username);$('[component="header/usericon"]').css("background-color",e["icon:bgColor"]).text(e["icon:text"])}ajaxify.go("user/"+r+"/edit")}).catch(app.alertError);return false})};return n});
//# sourceMappingURL=username.js.map