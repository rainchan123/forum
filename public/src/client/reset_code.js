"use strict";define("forum/reset_code",["zxcvbn"],function(e){var a={};a.init=function(){var a=ajaxify.data.code;var s=$("#reset");var r=$("#password");var t=$("#repeat");s.on("click",function(){var o=e(r.val());if(r.val().length<ajaxify.data.minimumPasswordLength){$("#notice").removeClass("hidden");$("#notice strong").translateText("[[reset_password:password_too_short]]")}else if(r.val().length>512){$("#notice").removeClass("hidden");$("#notice strong").translateText("[[error:password-too-long]]")}else if(r.val()!==t.val()){$("#notice").removeClass("hidden");$("#notice strong").translateText("[[reset_password:passwords_do_not_match]]")}else if(o.score<ajaxify.data.minimumPasswordStrength){$("#notice").removeClass("hidden");$("#notice strong").translateText("[[user:weak_password]]")}else{s.prop("disabled",true).translateHtml('<i class="fa fa-spin fa-refresh"></i> [[reset_password:changing_password]]');socket.emit("user.reset.commit",{code:a,password:r.val()},function(e){if(e){ajaxify.refresh();return app.alertError(e.message)}window.location.href=config.relative_path+"/login"})}return false})};return a});
//# sourceMappingURL=reset_code.js.map