"use strict";define("forum/header/chat",["components"],function(e){var t={};t.prepareDOM=function(){var t=e.get("chat/dropdown");var c=e.get("chat/list");t.on("click",function(){if(t.parent().hasClass("open")){return}s("loadChatsDropdown",c)});if(t.parents(".dropdown").hasClass("open")){s("loadChatsDropdown",c)}socket.removeListener("event:chats.receive",n);socket.on("event:chats.receive",n);socket.removeListener("event:user_status_change",o);socket.on("event:user_status_change",o);socket.removeListener("event:chats.roomRename",a);socket.on("event:chats.roomRename",a);socket.on("event:unread.updateChatCount",function(t){e.get("chat/icon").toggleClass("unread-count",t>0).attr("data-content",t>99?"99+":t)})};function n(e){s("onChatMessageReceived",e)}function o(e){s("onUserStatusChange",e)}function a(e){s("onRoomRename",e)}function s(e,t){require(["chat"],function(n){n[e](t)})}return t});
//# sourceMappingURL=chat.js.map