"use strict";define("forum/topic/change-owner",["components","postSelect","autocomplete"],function(n,e,t){var i={};var o;var r;var a=0;i.init=function(n){if(o){return}app.parseAndTranslate("partials/change_owner_modal",{},function(i){o=i;r=o.find("#change_owner_commit");$("body").append(o);o.find(".close,#change_owner_cancel").on("click",d);o.find("#username").on("keyup",c);e.init(f,{allowMainPostSelect:true});s();if(n){e.togglePostSelection(n,n.attr("data-pid"))}r.on("click",function(){l()});t.user(o.find("#username"),{filters:["notbanned"]},function(n,e){a=e.item.user.uid;c()})})};function s(){if(e.pids.length){o.find("#pids").translateHtml("[[topic:fork_pid_count, "+e.pids.length+"]]")}else{o.find("#pids").translateHtml("[[topic:fork_no_pids]]")}}function c(){if(a&&o.find("#username").length&&o.find("#username").val().length&&e.pids.length){r.removeAttr("disabled")}else{r.attr("disabled",true)}}function f(){c();s()}function l(){if(!a){return}socket.emit("posts.changeOwner",{pids:e.pids,toUid:a},function(n){if(n){return app.alertError(n.message)}ajaxify.refresh();d()})}function d(){if(o){o.remove();o=null;e.disable()}}return i});
//# sourceMappingURL=change-owner.js.map