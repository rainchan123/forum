"use strict";define("categoryFilter",["categorySearch"],function(t){var i={};i.init=function(i){t.init(i);var a=i.find('[component="category/list"]');i.on("hidden.bs.dropdown",function(){var t=n(i);var a=ajaxify.data.selectedCids.length!==t.length;ajaxify.data.selectedCids.forEach(function(i,n){if(i!==t[n]){a=true}});if(a){var e=window.location.pathname;var c=utils.params();if(t.length){c.cid=t;e+="?"+decodeURIComponent($.param(c))}ajaxify.go(e)}});a.on("click","[data-cid]",function(t){function e(t,i){a.find('[data-parent-cid="'+t+'"] [component="category/select/icon"]').toggleClass("invisible",i);a.find('[data-parent-cid="'+t+'"]').each(function(t,n){e($(n).attr("data-cid"),i)})}var c=$(this);var o=c.find("a").attr("href");if(o&&o!=="#"&&o.length){return}var r=c.attr("data-cid");if(t.ctrlKey){e(r,!c.find('[component="category/select/icon"]').hasClass("invisible"))}c.find('[component="category/select/icon"]').toggleClass("invisible");a.find("li").first().find("i").toggleClass("invisible",!!n(i).length);return false})};function n(t){var i=[];t.find('[component="category/list"] [data-cid]').each(function(t,n){if(!$(n).find('[component="category/select/icon"]').hasClass("invisible")){i.push(parseInt($(n).attr("data-cid"),10))}});i.sort(function(t,i){return t-i});return i}return i});
//# sourceMappingURL=categoryFilter.js.map