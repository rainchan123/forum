"use strict";define("categorySearch",function(){var n={};n.init=function(n){if(utils.isTouchDevice()){return}var t=n.find('[component="category-selector-search"]');if(!t.length){return}var o=t.parent('[component="category/dropdown"]').length>0||t.parent('[component="category-selector"]').length>0;var e=n.find('[component="category/list"]');var a=e.clone();var i=a.find("[data-cid]");n.on("show.bs.dropdown",function(){var d={};function r(n){var t=d[n];if(t){a.find('[data-cid="'+t+'"]').removeClass("hidden");r(t)}}function c(n){var t=a.find('[data-parent-cid="'+n+'"]');t.each(function(n,t){var o=$(t);o.removeClass("hidden");c(o.attr("data-cid"))})}function f(){var o=t.find("input").val().toLowerCase();var f=true;var s=[];i.each(function(){var n=$(this);var t=s.length<100&&(!o||o.length>1&&n.attr("data-name").toLowerCase().indexOf(o)!==-1);if(f&&t){f=false}if(t&&o){var e=n.attr("data-cid");s.push(e);d[e]=parseInt(n.attr("data-parent-cid"),10)}n.toggleClass("hidden",!t).find('[component="category-markup"]').css({"font-weight":o&&t?"bold":"normal"})});s.forEach(function(n){r(n);c(n)});e.html(a.html());n.find('[component="category/list"] [component="category/no-matches"]').toggleClass("hidden",!f)}if(o){n.find(".dropdown-toggle").addClass("hidden");t.removeClass("hidden")}t.on("click",function(n){n.preventDefault();n.stopPropagation()});t.find("input").val("").on("keyup",utils.debounce(f,200));f()});n.on("shown.bs.dropdown",function(){t.find("input").focus()});n.on("hide.bs.dropdown",function(){if(o){n.find(".dropdown-toggle").removeClass("hidden");t.addClass("hidden")}t.off("click");t.find("input").off("keyup")})};return n});
//# sourceMappingURL=categorySearch.js.map