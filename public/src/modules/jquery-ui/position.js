(function(t){if(typeof define==="function"&&define.amd){define(["jquery","./version"],t)}else{t(jQuery)}})(function(t){(function(){var i,e=Math.max,o=Math.abs,l=/left|center|right/,n=/top|center|bottom/,f=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,h=/%$/,r=t.fn.position;function p(t,i,e){return[parseFloat(t[0])*(h.test(t[0])?i/100:1),parseFloat(t[1])*(h.test(t[1])?e/100:1)]}function c(i,e){return parseInt(t.css(i,e),10)||0}function a(i){var e=i[0];if(e.nodeType===9){return{width:i.width(),height:i.height(),offset:{top:0,left:0}}}if(t.isWindow(e)){return{width:i.width(),height:i.height(),offset:{top:i.scrollTop(),left:i.scrollLeft()}}}if(e.preventDefault){return{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}}return{width:i.outerWidth(),height:i.outerHeight(),offset:i.offset()}}t.position={scrollbarWidth:function(){if(i!==undefined){return i}var e,o,l=t("<div "+"style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'>"+"<div style='height:100px;width:auto;'></div></div>"),n=l.children()[0];t("body").append(l);e=n.offsetWidth;l.css("overflow","scroll");o=n.offsetWidth;if(e===o){o=l[0].clientWidth}l.remove();return i=e-o},getScrollInfo:function(i){var e=i.isWindow||i.isDocument?"":i.element.css("overflow-x"),o=i.isWindow||i.isDocument?"":i.element.css("overflow-y"),l=e==="scroll"||e==="auto"&&i.width<i.element[0].scrollWidth,n=o==="scroll"||o==="auto"&&i.height<i.element[0].scrollHeight;return{width:n?t.position.scrollbarWidth():0,height:l?t.position.scrollbarWidth():0}},getWithinInfo:function(i){var e=t(i||window),o=t.isWindow(e[0]),l=!!e[0]&&e[0].nodeType===9,n=!o&&!l;return{element:e,isWindow:o,isDocument:l,offset:n?t(i).offset():{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:e.outerWidth(),height:e.outerHeight()}}};t.fn.position=function(i){if(!i||!i.of){return r.apply(this,arguments)}i=t.extend({},i);var h,d,g,u,m,w,W=t(i.of),v=t.position.getWithinInfo(i.within),y=t.position.getScrollInfo(v),H=(i.collision||"flip").split(" "),b={};w=a(W);if(W[0].preventDefault){i.at="left top"}d=w.width;g=w.height;u=w.offset;m=t.extend({},u);t.each(["my","at"],function(){var t=(i[this]||"").split(" "),e,o;if(t.length===1){t=l.test(t[0])?t.concat(["center"]):n.test(t[0])?["center"].concat(t):["center","center"]}t[0]=l.test(t[0])?t[0]:"center";t[1]=n.test(t[1])?t[1]:"center";e=f.exec(t[0]);o=f.exec(t[1]);b[this]=[e?e[0]:0,o?o[0]:0];i[this]=[s.exec(t[0])[0],s.exec(t[1])[0]]});if(H.length===1){H[1]=H[0]}if(i.at[0]==="right"){m.left+=d}else if(i.at[0]==="center"){m.left+=d/2}if(i.at[1]==="bottom"){m.top+=g}else if(i.at[1]==="center"){m.top+=g/2}h=p(b.at,d,g);m.left+=h[0];m.top+=h[1];return this.each(function(){var l,n,f=t(this),s=f.outerWidth(),r=f.outerHeight(),a=c(this,"marginLeft"),w=c(this,"marginTop"),x=s+a+c(this,"marginRight")+y.width,T=r+w+c(this,"marginBottom")+y.height,L=t.extend({},m),P=p(b.my,f.outerWidth(),f.outerHeight());if(i.my[0]==="right"){L.left-=s}else if(i.my[0]==="center"){L.left-=s/2}if(i.my[1]==="bottom"){L.top-=r}else if(i.my[1]==="center"){L.top-=r/2}L.left+=P[0];L.top+=P[1];l={marginLeft:a,marginTop:w};t.each(["left","top"],function(e,o){if(t.ui.position[H[e]]){t.ui.position[H[e]][o](L,{targetWidth:d,targetHeight:g,elemWidth:s,elemHeight:r,collisionPosition:l,collisionWidth:x,collisionHeight:T,offset:[h[0]+P[0],h[1]+P[1]],my:i.my,at:i.at,within:v,elem:f})}});if(i.using){n=function(t){var l=u.left-L.left,n=l+d-s,h=u.top-L.top,p=h+g-r,c={target:{element:W,left:u.left,top:u.top,width:d,height:g},element:{element:f,left:L.left,top:L.top,width:s,height:r},horizontal:n<0?"left":l>0?"right":"center",vertical:p<0?"top":h>0?"bottom":"middle"};if(d<s&&o(l+n)<d){c.horizontal="center"}if(g<r&&o(h+p)<g){c.vertical="middle"}if(e(o(l),o(n))>e(o(h),o(p))){c.important="horizontal"}else{c.important="vertical"}i.using.call(this,t,c)}}f.offset(t.extend(L,{using:n}))})};t.ui.position={fit:{left:function(t,i){var o=i.within,l=o.isWindow?o.scrollLeft:o.offset.left,n=o.width,f=t.left-i.collisionPosition.marginLeft,s=l-f,h=f+i.collisionWidth-n-l,r;if(i.collisionWidth>n){if(s>0&&h<=0){r=t.left+s+i.collisionWidth-n-l;t.left+=s-r}else if(h>0&&s<=0){t.left=l}else{if(s>h){t.left=l+n-i.collisionWidth}else{t.left=l}}}else if(s>0){t.left+=s}else if(h>0){t.left-=h}else{t.left=e(t.left-f,t.left)}},top:function(t,i){var o=i.within,l=o.isWindow?o.scrollTop:o.offset.top,n=i.within.height,f=t.top-i.collisionPosition.marginTop,s=l-f,h=f+i.collisionHeight-n-l,r;if(i.collisionHeight>n){if(s>0&&h<=0){r=t.top+s+i.collisionHeight-n-l;t.top+=s-r}else if(h>0&&s<=0){t.top=l}else{if(s>h){t.top=l+n-i.collisionHeight}else{t.top=l}}}else if(s>0){t.top+=s}else if(h>0){t.top-=h}else{t.top=e(t.top-f,t.top)}}},flip:{left:function(t,i){var e=i.within,l=e.offset.left+e.scrollLeft,n=e.width,f=e.isWindow?e.scrollLeft:e.offset.left,s=t.left-i.collisionPosition.marginLeft,h=s-f,r=s+i.collisionWidth-n-f,p=i.my[0]==="left"?-i.elemWidth:i.my[0]==="right"?i.elemWidth:0,c=i.at[0]==="left"?i.targetWidth:i.at[0]==="right"?-i.targetWidth:0,a=-2*i.offset[0],d,g;if(h<0){d=t.left+p+c+a+i.collisionWidth-n-l;if(d<0||d<o(h)){t.left+=p+c+a}}else if(r>0){g=t.left-i.collisionPosition.marginLeft+p+c+a-f;if(g>0||o(g)<r){t.left+=p+c+a}}},top:function(t,i){var e=i.within,l=e.offset.top+e.scrollTop,n=e.height,f=e.isWindow?e.scrollTop:e.offset.top,s=t.top-i.collisionPosition.marginTop,h=s-f,r=s+i.collisionHeight-n-f,p=i.my[1]==="top",c=p?-i.elemHeight:i.my[1]==="bottom"?i.elemHeight:0,a=i.at[1]==="top"?i.targetHeight:i.at[1]==="bottom"?-i.targetHeight:0,d=-2*i.offset[1],g,u;if(h<0){u=t.top+c+a+d+i.collisionHeight-n-l;if(u<0||u<o(h)){t.top+=c+a+d}}else if(r>0){g=t.top-i.collisionPosition.marginTop+c+a+d-f;if(g>0||o(g)<r){t.top+=c+a+d}}}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments);t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments);t.ui.position.fit.top.apply(this,arguments)}}}})();return t.ui.position});
//# sourceMappingURL=position.js.map