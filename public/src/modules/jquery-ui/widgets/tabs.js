(function(t){if(typeof define==="function"&&define.amd){define(["jquery","../escape-selector","../keycode","../safe-active-element","../unique-id","../version","../widget"],t)}else{t(jQuery)}})(function(t){t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:false,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,a;i=e.href.replace(t,"");a=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(t){}try{a=decodeURIComponent(a)}catch(t){}return e.hash.length>1&&i===a}}(),_create:function(){var e=this,i=this.options;this.running=false;this._addClass("ui-tabs","ui-widget ui-widget-content");this._toggleClass("ui-tabs-collapsible",null,i.collapsible);this._processTabs();i.active=this._initialActive();if(t.isArray(i.disabled)){i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()}if(this.options.active!==false&&this.anchors.length){this.active=this._findActive(i.active)}else{this.active=t()}this._refresh();if(this.active.length){this.load(i.active)}},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,a=location.hash.substring(1);if(e===null){if(a){this.tabs.each(function(i,s){if(t(s).attr("aria-controls")===a){e=i;return false}})}if(e===null){e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))}if(e===null||e===-1){e=this.tabs.length?0:false}}if(e!==false){e=this.tabs.index(this.tabs.eq(e));if(e===-1){e=i?false:0}}if(!i&&e===false&&this.anchors.length){e=0}return e},_getCreateEventData:function(){return{tab:this.active,panel:!this.active.length?t():this._getPanelForTab(this.active)}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),a=this.tabs.index(i),s=true;if(this._handlePageNav(e)){return}switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:a++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:s=false;a--;break;case t.ui.keyCode.END:a=this.anchors.length-1;break;case t.ui.keyCode.HOME:a=0;break;case t.ui.keyCode.SPACE:e.preventDefault();clearTimeout(this.activating);this._activate(a);return;case t.ui.keyCode.ENTER:e.preventDefault();clearTimeout(this.activating);this._activate(a===this.options.active?false:a);return;default:return}e.preventDefault();clearTimeout(this.activating);a=this._focusNextTab(a,s);if(!e.ctrlKey&&!e.metaKey){i.attr("aria-selected","false");this.tabs.eq(a).attr("aria-selected","true");this.activating=this._delay(function(){this.option("active",a)},this.delay)}},_panelKeydown:function(e){if(this._handlePageNav(e)){return}if(e.ctrlKey&&e.keyCode===t.ui.keyCode.UP){e.preventDefault();this.active.trigger("focus")}},_handlePageNav:function(e){if(e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true}if(e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true}},_findNextTab:function(e,i){var a=this.tabs.length-1;function s(){if(e>a){e=0}if(e<0){e=a}return e}while(t.inArray(s(),this.options.disabled)!==-1){e=i?e+1:e-1}return e},_focusNextTab:function(t,e){t=this._findNextTab(t,e);this.tabs.eq(t).trigger("focus");return t},_setOption:function(t,e){if(t==="active"){this._activate(e);return}this._super(t,e);if(t==="collapsible"){this._toggleClass("ui-tabs-collapsible",null,e);if(!e&&this.options.active===false){this._activate(0)}}if(t==="event"){this._setupEvents(e)}if(t==="heightStyle"){this._setupHeightStyle(e)}},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)});this._processTabs();if(e.active===false||!this.anchors.length){e.active=false;this.active=t()}else if(this.active.length&&!t.contains(this.tablist[0],this.active[0])){if(this.tabs.length===e.disabled.length){e.active=false;this.active=t()}else{this._activate(this._findNextTab(Math.max(0,e.active-1),false))}}else{e.active=this.tabs.index(this.active)}this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"});if(!this.active.length){this.tabs.eq(0).attr("tabIndex",0)}else{this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0});this._addClass(this.active,"ui-tabs-active","ui-state-active");this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})}},_processTabs:function(){var e=this,i=this.tabs,a=this.anchors,s=this.panels;this.tablist=this._getList().attr("role","tablist");this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header");this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){if(t(this).is(".ui-state-disabled")){e.preventDefault()}}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){if(t(this).closest("li").is(".ui-state-disabled")){this.blur()}});this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1});this._addClass(this.tabs,"ui-tabs-tab","ui-state-default");this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1});this._addClass(this.anchors,"ui-tabs-anchor");this.panels=t();this.anchors.each(function(i,a){var s,n,r,l=t(a).uniqueId().attr("id"),h=t(a).closest("li"),o=h.attr("aria-controls");if(e._isLocal(a)){s=a.hash;r=s.substring(1);n=e.element.find(e._sanitizeSelector(s))}else{r=h.attr("aria-controls")||t({}).uniqueId()[0].id;s="#"+r;n=e.element.find(s);if(!n.length){n=e._createPanel(r);n.insertAfter(e.panels[i-1]||e.tablist)}n.attr("aria-live","polite")}if(n.length){e.panels=e.panels.add(n)}if(o){h.data("ui-tabs-aria-controls",o)}h.attr({"aria-controls":r,"aria-labelledby":l});n.attr("aria-labelledby",l)});this.panels.attr("role","tabpanel");this._addClass(this.panels,"ui-tabs-panel","ui-widget-content");if(i){this._off(i.not(this.tabs));this._off(a.not(this.anchors));this._off(s.not(this.panels))}},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",true)},_setOptionDisabled:function(e){var i,a,s;if(t.isArray(e)){if(!e.length){e=false}else if(e.length===this.anchors.length){e=true}}for(s=0;a=this.tabs[s];s++){i=t(a);if(e===true||t.inArray(s,e)!==-1){i.attr("aria-disabled","true");this._addClass(i,null,"ui-state-disabled")}else{i.removeAttr("aria-disabled");this._removeClass(i,null,"ui-state-disabled")}}this.options.disabled=e;this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,e===true)},_setupEvents:function(e){var i={};if(e){t.each(e.split(" "),function(t,e){i[e]="_eventHandler"})}this._off(this.anchors.add(this.tabs).add(this.panels));this._on(true,this.anchors,{click:function(t){t.preventDefault()}});this._on(this.anchors,i);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,a=this.element.parent();if(e==="fill"){i=a.height();i-=this.element.outerHeight()-this.element.height();this.element.siblings(":visible").each(function(){var e=t(this),a=e.css("position");if(a==="absolute"||a==="fixed"){return}i-=e.outerHeight(true)});this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(true)});this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")}else if(e==="auto"){i=0;this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i)}},_eventHandler:function(e){var i=this.options,a=this.active,s=t(e.currentTarget),n=s.closest("li"),r=n[0]===a[0],l=r&&i.collapsible,h=l?t():this._getPanelForTab(n),o=!a.length?t():this._getPanelForTab(a),c={oldTab:a,oldPanel:o,newTab:l?t():n,newPanel:h};e.preventDefault();if(n.hasClass("ui-state-disabled")||n.hasClass("ui-tabs-loading")||this.running||r&&!i.collapsible||this._trigger("beforeActivate",e,c)===false){return}i.active=l?false:this.tabs.index(n);this.active=r?t():n;if(this.xhr){this.xhr.abort()}if(!o.length&&!h.length){t.error("jQuery UI Tabs: Mismatching fragment identifier.")}if(h.length){this.load(this.tabs.index(n),e)}this._toggle(e,c)},_toggle:function(e,i){var a=this,s=i.newPanel,n=i.oldPanel;this.running=true;function r(){a.running=false;a._trigger("activate",e,i)}function l(){a._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active");if(s.length&&a.options.show){a._show(s,a.options.show,r)}else{s.show();r()}}if(n.length&&this.options.hide){this._hide(n,this.options.hide,function(){a._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active");l()})}else{this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active");n.hide();l()}n.attr("aria-hidden","true");i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"});if(s.length&&n.length){i.oldTab.attr("tabIndex",-1)}else if(s.length){this.tabs.filter(function(){return t(this).attr("tabIndex")===0}).attr("tabIndex",-1)}s.attr("aria-hidden","false");i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,a=this._findActive(e);if(a[0]===this.active[0]){return}if(!a.length){a=this.active}i=a.find(".ui-tabs-anchor")[0];this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop})},_findActive:function(e){return e===false?t():this.tabs.eq(e)},_getIndex:function(e){if(typeof e==="string"){e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))}return e},_destroy:function(){if(this.xhr){this.xhr.abort()}this.tablist.removeAttr("role").off(this.eventNamespace);this.anchors.removeAttr("role tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){if(t.data(this,"ui-tabs-destroy")){t(this).remove()}else{t(this).removeAttr("role tabIndex "+"aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}});this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");if(i){e.attr("aria-controls",i).removeData("ui-tabs-aria-controls")}else{e.removeAttr("aria-controls")}});this.panels.show();if(this.options.heightStyle!=="content"){this.panels.css("height","")}},enable:function(e){var i=this.options.disabled;if(i===false){return}if(e===undefined){i=false}else{e=this._getIndex(e);if(t.isArray(i)){i=t.map(i,function(t){return t!==e?t:null})}else{i=t.map(this.tabs,function(t,i){return i!==e?i:null})}}this._setOptionDisabled(i)},disable:function(e){var i=this.options.disabled;if(i===true){return}if(e===undefined){i=true}else{e=this._getIndex(e);if(t.inArray(e,i)!==-1){return}if(t.isArray(i)){i=t.merge([e],i).sort()}else{i=[e]}}this._setOptionDisabled(i)},load:function(e,i){e=this._getIndex(e);var a=this,s=this.tabs.eq(e),n=s.find(".ui-tabs-anchor"),r=this._getPanelForTab(s),l={tab:s,panel:r},h=function(t,e){if(e==="abort"){a.panels.stop(false,true)}a._removeClass(s,"ui-tabs-loading");r.removeAttr("aria-busy");if(t===a.xhr){delete a.xhr}};if(this._isLocal(n[0])){return}this.xhr=t.ajax(this._ajaxSettings(n,i,l));if(this.xhr&&this.xhr.statusText!=="canceled"){this._addClass(s,"ui-tabs-loading");r.attr("aria-busy","true");this.xhr.done(function(t,e,s){setTimeout(function(){r.html(t);a._trigger("load",i,l);h(s,e)},1)}).fail(function(t,e){setTimeout(function(){h(t,e)},1)})}},_ajaxSettings:function(e,i,a){var s=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,n){return s._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:n},a))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}});if(t.uiBackCompat!==false){t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments);this._addClass(this.tabs,"ui-tab")}})}return t.ui.tabs});
//# sourceMappingURL=tabs.js.map