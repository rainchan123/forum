(function(e){if(typeof define==="function"&&define.amd){define(["jquery","./mouse","../keycode","../version","../widget"],e)}else{e(jQuery)}})(function(e){return e.widget("ui.slider",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:false,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content");this._refresh();this._animateOff=false},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var i,t,s=this.options,a=this.element.find(".ui-slider-handle"),n="<span tabindex='0'></span>",l=[];t=s.values&&s.values.length||1;if(a.length>t){a.slice(t).remove();a=a.slice(0,t)}for(i=a.length;i<t;i++){l.push(n)}this.handles=a.add(e(l.join("")).appendTo(this.element));this._addClass(this.handles,"ui-slider-handle","ui-state-default");this.handle=this.handles.eq(0);this.handles.each(function(i){e(this).data("ui-slider-handle-index",i).attr("tabIndex",0)})},_createRange:function(){var i=this.options;if(i.range){if(i.range===true){if(!i.values){i.values=[this._valueMin(),this._valueMin()]}else if(i.values.length&&i.values.length!==2){i.values=[i.values[0],i.values[0]]}else if(e.isArray(i.values)){i.values=i.values.slice(0)}}if(!this.range||!this.range.length){this.range=e("<div>").appendTo(this.element);this._addClass(this.range,"ui-slider-range")}else{this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max");this.range.css({left:"",bottom:""})}if(i.range==="min"||i.range==="max"){this._addClass(this.range,"ui-slider-range-"+i.range)}}else{if(this.range){this.range.remove()}this.range=null}},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles)},_destroy:function(){this.handles.remove();if(this.range){this.range.remove()}this._mouseDestroy()},_mouseCapture:function(i){var t,s,a,n,l,h,r,u,o=this,f=this.options;if(f.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();t={x:i.pageX,y:i.pageY};s=this._normValueFromMouse(t);a=this._valueMax()-this._valueMin()+1;this.handles.each(function(i){var t=Math.abs(s-o.values(i));if(a>t||a===t&&(i===o._lastChangedValue||o.values(i)===f.min)){a=t;n=e(this);l=i}});h=this._start(i,l);if(h===false){return false}this._mouseSliding=true;this._handleIndex=l;this._addClass(n,null,"ui-state-active");n.trigger("focus");r=n.offset();u=!e(i.target).parents().addBack().is(".ui-slider-handle");this._clickOffset=u?{left:0,top:0}:{left:i.pageX-r.left-n.width()/2,top:i.pageY-r.top-n.height()/2-(parseInt(n.css("borderTopWidth"),10)||0)-(parseInt(n.css("borderBottomWidth"),10)||0)+(parseInt(n.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(i,l,s)}this._animateOff=true;return true},_mouseStart:function(){return true},_mouseDrag:function(e){var i={x:e.pageX,y:e.pageY},t=this._normValueFromMouse(i);this._slide(e,this._handleIndex,t);return false},_mouseStop:function(e){this._removeClass(this.handles,null,"ui-state-active");this._mouseSliding=false;this._stop(e,this._handleIndex);this._change(e,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(e){var i,t,s,a,n;if(this.orientation==="horizontal"){i=this.elementSize.width;t=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{i=this.elementSize.height;t=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}s=t/i;if(s>1){s=1}if(s<0){s=0}if(this.orientation==="vertical"){s=1-s}a=this._valueMax()-this._valueMin();n=this._valueMin()+s*a;return this._trimAlignValue(n)},_uiHash:function(e,i,t){var s={handle:this.handles[e],handleIndex:e,value:i!==undefined?i:this.value()};if(this._hasMultipleValues()){s.value=i!==undefined?i:this.values(e);s.values=t||this.values()}return s},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,i){return this._trigger("start",e,this._uiHash(i))},_slide:function(e,i,t){var s,a,n=this.value(),l=this.values();if(this._hasMultipleValues()){a=this.values(i?0:1);n=this.values(i);if(this.options.values.length===2&&this.options.range===true){t=i===0?Math.min(a,t):Math.max(a,t)}l[i]=t}if(t===n){return}s=this._trigger("slide",e,this._uiHash(i,t,l));if(s===false){return}if(this._hasMultipleValues()){this.values(i,t)}else{this.value(t)}},_stop:function(e,i){this._trigger("stop",e,this._uiHash(i))},_change:function(e,i){if(!this._keySliding&&!this._mouseSliding){this._lastChangedValue=i;this._trigger("change",e,this._uiHash(i))}},value:function(e){if(arguments.length){this.options.value=this._trimAlignValue(e);this._refreshValue();this._change(null,0);return}return this._value()},values:function(i,t){var s,a,n;if(arguments.length>1){this.options.values[i]=this._trimAlignValue(t);this._refreshValue();this._change(null,i);return}if(arguments.length){if(e.isArray(arguments[0])){s=this.options.values;a=arguments[0];for(n=0;n<s.length;n+=1){s[n]=this._trimAlignValue(a[n]);this._change(null,n)}this._refreshValue()}else{if(this._hasMultipleValues()){return this._values(i)}else{return this.value()}}}else{return this._values()}},_setOption:function(i,t){var s,a=0;if(i==="range"&&this.options.range===true){if(t==="min"){this.options.value=this._values(0);this.options.values=null}else if(t==="max"){this.options.value=this._values(this.options.values.length-1);this.options.values=null}}if(e.isArray(this.options.values)){a=this.options.values.length}this._super(i,t);switch(i){case"orientation":this._detectOrientation();this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation);this._refreshValue();if(this.options.range){this._refreshRange(t)}this.handles.css(t==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(s=a-1;s>=0;s--){this._change(null,s)}this._animateOff=false;break;case"step":case"min":case"max":this._animateOff=true;this._calculateNewMax();this._refreshValue();this._animateOff=false;break;case"range":this._animateOff=true;this._refresh();this._animateOff=false;break}},_setOptionDisabled:function(e){this._super(e);this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;e=this._trimAlignValue(e);return e},_values:function(e){var i,t,s;if(arguments.length){i=this.options.values[e];i=this._trimAlignValue(i);return i}else if(this._hasMultipleValues()){t=this.options.values.slice();for(s=0;s<t.length;s+=1){t[s]=this._trimAlignValue(t[s])}return t}else{return[]}},_trimAlignValue:function(e){if(e<=this._valueMin()){return this._valueMin()}if(e>=this._valueMax()){return this._valueMax()}var i=this.options.step>0?this.options.step:1,t=(e-this._valueMin())%i,s=e-t;if(Math.abs(t)*2>=i){s+=t>0?i:-i}return parseFloat(s.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,i=this._valueMin(),t=this.options.step,s=Math.round((e-i)/t)*t;e=s+i;if(e>this.options.max){e-=t}this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);if(this.options.min!==null){e=Math.max(e,this._precisionOf(this.options.min))}return e},_precisionOf:function(e){var i=e.toString(),t=i.indexOf(".");return t===-1?0:i.length-t-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){if(e==="vertical"){this.range.css({width:"",left:""})}if(e==="horizontal"){this.range.css({height:"",bottom:""})}},_refreshValue:function(){var i,t,s,a,n,l=this.options.range,h=this.options,r=this,u=!this._animateOff?h.animate:false,o={};if(this._hasMultipleValues()){this.handles.each(function(s){t=(r.values(s)-r._valueMin())/(r._valueMax()-r._valueMin())*100;o[r.orientation==="horizontal"?"left":"bottom"]=t+"%";e(this).stop(1,1)[u?"animate":"css"](o,h.animate);if(r.options.range===true){if(r.orientation==="horizontal"){if(s===0){r.range.stop(1,1)[u?"animate":"css"]({left:t+"%"},h.animate)}if(s===1){r.range[u?"animate":"css"]({width:t-i+"%"},{queue:false,duration:h.animate})}}else{if(s===0){r.range.stop(1,1)[u?"animate":"css"]({bottom:t+"%"},h.animate)}if(s===1){r.range[u?"animate":"css"]({height:t-i+"%"},{queue:false,duration:h.animate})}}}i=t})}else{s=this.value();a=this._valueMin();n=this._valueMax();t=n!==a?(s-a)/(n-a)*100:0;o[this.orientation==="horizontal"?"left":"bottom"]=t+"%";this.handle.stop(1,1)[u?"animate":"css"](o,h.animate);if(l==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[u?"animate":"css"]({width:t+"%"},h.animate)}if(l==="max"&&this.orientation==="horizontal"){this.range.stop(1,1)[u?"animate":"css"]({width:100-t+"%"},h.animate)}if(l==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[u?"animate":"css"]({height:t+"%"},h.animate)}if(l==="max"&&this.orientation==="vertical"){this.range.stop(1,1)[u?"animate":"css"]({height:100-t+"%"},h.animate)}}},_handleEvents:{keydown:function(i){var t,s,a,n,l=e(i.target).data("ui-slider-handle-index");switch(i.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:i.preventDefault();if(!this._keySliding){this._keySliding=true;this._addClass(e(i.target),null,"ui-state-active");t=this._start(i,l);if(t===false){return}}break}n=this.options.step;if(this._hasMultipleValues()){s=a=this.values(l)}else{s=a=this.value()}switch(i.keyCode){case e.ui.keyCode.HOME:a=this._valueMin();break;case e.ui.keyCode.END:a=this._valueMax();break;case e.ui.keyCode.PAGE_UP:a=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:a=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(s===this._valueMax()){return}a=this._trimAlignValue(s+n);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(s===this._valueMin()){return}a=this._trimAlignValue(s-n);break}this._slide(i,l,a)},keyup:function(i){var t=e(i.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(i,t);this._change(i,t);this._removeClass(e(i.target),null,"ui-state-active")}}}})});
//# sourceMappingURL=slider.js.map