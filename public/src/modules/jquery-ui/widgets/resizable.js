(function(i){if(typeof define==="function"&&define.amd){define(["jquery","./mouse","../disable-selection","../plugin","../version","../widget"],i)}else{i(jQuery)}})(function(i){i.widget("ui.resizable",i.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(i){return parseFloat(i)||0},_isNumber:function(i){return!isNaN(parseFloat(i))},_hasScroll:function(t,e){if(i(t).css("overflow")==="hidden"){return false}var s=e&&e==="left"?"scrollLeft":"scrollTop",h=false;if(t[s]>0){return true}t[s]=1;h=t[s]>0;t[s]=0;return h},_create:function(){var t,e=this.options,s=this;this._addClass("ui-resizable");i.extend(this,{_aspectRatio:!!e.aspectRatio,aspectRatio:e.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:e.helper||e.ghost||e.animate?e.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)){this.element.wrap(i("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance"));this.elementIsWrapper=true;t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")};this.element.css(t);this.originalElement.css("margin",0);this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css(t);this._proportionallyResize()}this._setupHandles();if(e.autoHide){i(this.element).on("mouseenter",function(){if(e.disabled){return}s._removeClass("ui-resizable-autohide");s._handles.show()}).on("mouseleave",function(){if(e.disabled){return}if(!s.resizing){s._addClass("ui-resizable-autohide");s._handles.hide()}})}this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,e=function(t){i(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){e(this.element);t=this.element;this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t);t.remove()}this.originalElement.css("resize",this.originalResizeStyle);e(this.originalElement);return this},_setOption:function(i,t){this._super(i,t);switch(i){case"handles":this._removeHandles();this._setupHandles();break;default:break}},_setupHandles:function(){var t=this.options,e,s,h,n,o,a=this;this.handles=t.handles||(!i(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});this._handles=i();if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw"}h=this.handles.split(",");this.handles={};for(s=0;s<h.length;s++){e=i.trim(h[s]);n="ui-resizable-"+e;o=i("<div>");this._addClass(o,"ui-resizable-handle "+n);o.css({zIndex:t.zIndex});this.handles[e]=".ui-resizable-"+e;this.element.append(o)}}this._renderAxis=function(t){var e,s,h,n;t=t||this.element;for(e in this.handles){if(this.handles[e].constructor===String){this.handles[e]=this.element.children(this.handles[e]).first().show()}else if(this.handles[e].jquery||this.handles[e].nodeType){this.handles[e]=i(this.handles[e]);this._on(this.handles[e],{mousedown:a._mouseDown})}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)){s=i(this.handles[e],this.element);n=/sw|ne|nw|se|n|s/.test(e)?s.outerHeight():s.outerWidth();h=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join("");t.css(h,n);this._proportionallyResize()}this._handles=this._handles.add(this.handles[e])}};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.on("mouseover",function(){if(!a.resizing){if(this.className){o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}a.axis=o&&o[1]?o[1]:"se"}});if(t.autoHide){this._handles.hide();this._addClass("ui-resizable-autohide")}},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var e,s,h=false;for(e in this.handles){s=i(this.handles[e])[0];if(s===t.target||i.contains(s,t.target)){h=true}}return!this.options.disabled&&h},_mouseStart:function(t){var e,s,h,n=this.options,o=this.element;this.resizing=true;this._renderProxy();e=this._num(this.helper.css("left"));s=this._num(this.helper.css("top"));if(n.containment){e+=i(n.containment).scrollLeft()||0;s+=i(n.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:e,top:s};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()};this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()};this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()};this.originalPosition={left:e,top:s};this.originalMousePosition={left:t.pageX,top:t.pageY};this.aspectRatio=typeof n.aspectRatio==="number"?n.aspectRatio:this.originalSize.width/this.originalSize.height||1;h=i(".ui-resizable-"+this.axis).css("cursor");i("body").css("cursor",h==="auto"?this.axis+"-resize":h);this._addClass("ui-resizable-resizing");this._propagate("start",t);return true},_mouseDrag:function(t){var e,s,h=this.originalMousePosition,n=this.axis,o=t.pageX-h.left||0,a=t.pageY-h.top||0,l=this._change[n];this._updatePrevProperties();if(!l){return false}e=l.apply(this,[t,o,a]);this._updateVirtualBoundaries(t.shiftKey);if(this._aspectRatio||t.shiftKey){e=this._updateRatio(e,t)}e=this._respectSize(e,t);this._updateCache(e);this._propagate("resize",t);s=this._applyChanges();if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}if(!i.isEmptyObject(s)){this._updatePrevProperties();this._trigger("resize",t,this.ui());this._applyChanges()}return false},_mouseStop:function(t){this.resizing=false;var e,s,h,n,o,a,l,r=this.options,p=this;if(this._helper){e=this._proportionallyResizeElements;s=e.length&&/textarea/i.test(e[0].nodeName);h=s&&this._hasScroll(e[0],"left")?0:p.sizeDiff.height;n=s?0:p.sizeDiff.width;o={width:p.helper.width()-n,height:p.helper.height()-h};a=parseFloat(p.element.css("left"))+(p.position.left-p.originalPosition.left)||null;l=parseFloat(p.element.css("top"))+(p.position.top-p.originalPosition.top)||null;if(!r.animate){this.element.css(i.extend(o,{top:l,left:a}))}p.helper.height(p.size.height);p.helper.width(p.size.width);if(this._helper&&!r.animate){this._proportionallyResize()}}i("body").css("cursor","auto");this._removeClass("ui-resizable-resizing");this._propagate("stop",t);if(this._helper){this.helper.remove()}return false},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var i={};if(this.position.top!==this.prevPosition.top){i.top=this.position.top+"px"}if(this.position.left!==this.prevPosition.left){i.left=this.position.left+"px"}if(this.size.width!==this.prevSize.width){i.width=this.size.width+"px"}if(this.size.height!==this.prevSize.height){i.height=this.size.height+"px"}this.helper.css(i);return i},_updateVirtualBoundaries:function(i){var t,e,s,h,n,o=this.options;n={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:Infinity,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:Infinity};if(this._aspectRatio||i){t=n.minHeight*this.aspectRatio;s=n.minWidth/this.aspectRatio;e=n.maxHeight*this.aspectRatio;h=n.maxWidth/this.aspectRatio;if(t>n.minWidth){n.minWidth=t}if(s>n.minHeight){n.minHeight=s}if(e<n.maxWidth){n.maxWidth=e}if(h<n.maxHeight){n.maxHeight=h}}this._vBoundaries=n},_updateCache:function(i){this.offset=this.helper.offset();if(this._isNumber(i.left)){this.position.left=i.left}if(this._isNumber(i.top)){this.position.top=i.top}if(this._isNumber(i.height)){this.size.height=i.height}if(this._isNumber(i.width)){this.size.width=i.width}},_updateRatio:function(i){var t=this.position,e=this.size,s=this.axis;if(this._isNumber(i.height)){i.width=i.height*this.aspectRatio}else if(this._isNumber(i.width)){i.height=i.width/this.aspectRatio}if(s==="sw"){i.left=t.left+(e.width-i.width);i.top=null}if(s==="nw"){i.top=t.top+(e.height-i.height);i.left=t.left+(e.width-i.width)}return i},_respectSize:function(i){var t=this._vBoundaries,e=this.axis,s=this._isNumber(i.width)&&t.maxWidth&&t.maxWidth<i.width,h=this._isNumber(i.height)&&t.maxHeight&&t.maxHeight<i.height,n=this._isNumber(i.width)&&t.minWidth&&t.minWidth>i.width,o=this._isNumber(i.height)&&t.minHeight&&t.minHeight>i.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,r=/sw|nw|w/.test(e),p=/nw|ne|n/.test(e);if(n){i.width=t.minWidth}if(o){i.height=t.minHeight}if(s){i.width=t.maxWidth}if(h){i.height=t.maxHeight}if(n&&r){i.left=a-t.minWidth}if(s&&r){i.left=a-t.maxWidth}if(o&&p){i.top=l-t.minHeight}if(h&&p){i.top=l-t.maxHeight}if(!i.width&&!i.height&&!i.left&&i.top){i.top=null}else if(!i.width&&!i.height&&!i.top&&i.left){i.left=null}return i},_getPaddingPlusBorderDimensions:function(i){var t=0,e=[],s=[i.css("borderTopWidth"),i.css("borderRightWidth"),i.css("borderBottomWidth"),i.css("borderLeftWidth")],h=[i.css("paddingTop"),i.css("paddingRight"),i.css("paddingBottom"),i.css("paddingLeft")];for(;t<4;t++){e[t]=parseFloat(s[t])||0;e[t]+=parseFloat(h[t])||0}return{height:e[0]+e[2],width:e[1]+e[3]}},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return}var i,t=0,e=this.helper||this.element;for(;t<this._proportionallyResizeElements.length;t++){i=this._proportionallyResizeElements[t];if(!this.outerDimensions){this.outerDimensions=this._getPaddingPlusBorderDimensions(i)}i.css({height:e.height()-this.outerDimensions.height||0,width:e.width()-this.outerDimensions.width||0})}},_renderProxy:function(){var t=this.element,e=this.options;this.elementOffset=t.offset();if(this._helper){this.helper=this.helper||i("<div style='overflow:hidden;'></div>");this._addClass(this.helper,this._helper);this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(i,t){return{width:this.originalSize.width+t}},w:function(i,t){var e=this.originalSize,s=this.originalPosition;return{left:s.left+t,width:e.width-t}},n:function(i,t,e){var s=this.originalSize,h=this.originalPosition;return{top:h.top+e,height:s.height-e}},s:function(i,t,e){return{height:this.originalSize.height+e}},se:function(t,e,s){return i.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,s]))},sw:function(t,e,s){return i.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,s]))},ne:function(t,e,s){return i.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,s]))},nw:function(t,e,s){return i.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,s]))}},_propagate:function(t,e){i.ui.plugin.call(this,t,[e,this.ui()]);t!=="resize"&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});i.ui.plugin.add("resizable","animate",{stop:function(t){var e=i(this).resizable("instance"),s=e.options,h=e._proportionallyResizeElements,n=h.length&&/textarea/i.test(h[0].nodeName),o=n&&e._hasScroll(h[0],"left")?0:e.sizeDiff.height,a=n?0:e.sizeDiff.width,l={width:e.size.width-a,height:e.size.height-o},r=parseFloat(e.element.css("left"))+(e.position.left-e.originalPosition.left)||null,p=parseFloat(e.element.css("top"))+(e.position.top-e.originalPosition.top)||null;e.element.animate(i.extend(l,p&&r?{top:p,left:r}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseFloat(e.element.css("width")),height:parseFloat(e.element.css("height")),top:parseFloat(e.element.css("top")),left:parseFloat(e.element.css("left"))};if(h&&h.length){i(h[0]).css({width:s.width,height:s.height})}e._updateCache(s);e._propagate("resize",t)}})}});i.ui.plugin.add("resizable","containment",{start:function(){var t,e,s,h,n,o,a,l=i(this).resizable("instance"),r=l.options,p=l.element,f=r.containment,d=f instanceof i?f.get(0):/parent/.test(f)?p.parent().get(0):f;if(!d){return}l.containerElement=i(d);if(/document/.test(f)||f===document){l.containerOffset={left:0,top:0};l.containerPosition={left:0,top:0};l.parentData={element:i(document),left:0,top:0,width:i(document).width(),height:i(document).height()||document.body.parentNode.scrollHeight}}else{t=i(d);e=[];i(["Top","Right","Left","Bottom"]).each(function(i,s){e[i]=l._num(t.css("padding"+s))});l.containerOffset=t.offset();l.containerPosition=t.position();l.containerSize={height:t.innerHeight()-e[3],width:t.innerWidth()-e[1]};s=l.containerOffset;h=l.containerSize.height;n=l.containerSize.width;o=l._hasScroll(d,"left")?d.scrollWidth:n;a=l._hasScroll(d)?d.scrollHeight:h;l.parentData={element:d,left:s.left,top:s.top,width:o,height:a}}},resize:function(t){var e,s,h,n,o=i(this).resizable("instance"),a=o.options,l=o.containerOffset,r=o.position,p=o._aspectRatio||t.shiftKey,f={top:0,left:0},d=o.containerElement,g=true;if(d[0]!==document&&/static/.test(d.css("position"))){f=l}if(r.left<(o._helper?l.left:0)){o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-f.left);if(p){o.size.height=o.size.width/o.aspectRatio;g=false}o.position.left=a.helper?l.left:0}if(r.top<(o._helper?l.top:0)){o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top);if(p){o.size.width=o.size.height*o.aspectRatio;g=false}o.position.top=o._helper?l.top:0}h=o.containerElement.get(0)===o.element.parent().get(0);n=/relative|absolute/.test(o.containerElement.css("position"));if(h&&n){o.offset.left=o.parentData.left+o.position.left;o.offset.top=o.parentData.top+o.position.top}else{o.offset.left=o.element.offset().left;o.offset.top=o.element.offset().top}e=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-f.left:o.offset.left-l.left));s=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-f.top:o.offset.top-l.top));if(e+o.size.width>=o.parentData.width){o.size.width=o.parentData.width-e;if(p){o.size.height=o.size.width/o.aspectRatio;g=false}}if(s+o.size.height>=o.parentData.height){o.size.height=o.parentData.height-s;if(p){o.size.width=o.size.height*o.aspectRatio;g=false}}if(!g){o.position.left=o.prevPosition.left;o.position.top=o.prevPosition.top;o.size.width=o.prevSize.width;o.size.height=o.prevSize.height}},stop:function(){var t=i(this).resizable("instance"),e=t.options,s=t.containerOffset,h=t.containerPosition,n=t.containerElement,o=i(t.helper),a=o.offset(),l=o.outerWidth()-t.sizeDiff.width,r=o.outerHeight()-t.sizeDiff.height;if(t._helper&&!e.animate&&/relative/.test(n.css("position"))){i(this).css({left:a.left-h.left-s.left,width:l,height:r})}if(t._helper&&!e.animate&&/static/.test(n.css("position"))){i(this).css({left:a.left-h.left-s.left,width:l,height:r})}}});i.ui.plugin.add("resizable","alsoResize",{start:function(){var t=i(this).resizable("instance"),e=t.options;i(e.alsoResize).each(function(){var t=i(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,e){var s=i(this).resizable("instance"),h=s.options,n=s.originalSize,o=s.originalPosition,a={height:s.size.height-n.height||0,width:s.size.width-n.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0};i(h.alsoResize).each(function(){var t=i(this),s=i(this).data("ui-resizable-alsoresize"),h={},n=t.parents(e.originalElement[0]).length?["width","height"]:["width","height","top","left"];i.each(n,function(i,t){var e=(s[t]||0)+(a[t]||0);if(e&&e>=0){h[t]=e||null}});t.css(h)})},stop:function(){i(this).removeData("ui-resizable-alsoresize")}});i.ui.plugin.add("resizable","ghost",{start:function(){var t=i(this).resizable("instance"),e=t.size;t.ghost=t.originalElement.clone();t.ghost.css({opacity:.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0});t._addClass(t.ghost,"ui-resizable-ghost");if(i.uiBackCompat!==false&&typeof t.options.ghost==="string"){t.ghost.addClass(this.options.ghost)}t.ghost.appendTo(t.helper)},resize:function(){var t=i(this).resizable("instance");if(t.ghost){t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})}},stop:function(){var t=i(this).resizable("instance");if(t.ghost&&t.helper){t.helper.get(0).removeChild(t.ghost.get(0))}}});i.ui.plugin.add("resizable","grid",{resize:function(){var t,e=i(this).resizable("instance"),s=e.options,h=e.size,n=e.originalSize,o=e.originalPosition,a=e.axis,l=typeof s.grid==="number"?[s.grid,s.grid]:s.grid,r=l[0]||1,p=l[1]||1,f=Math.round((h.width-n.width)/r)*r,d=Math.round((h.height-n.height)/p)*p,g=n.width+f,u=n.height+d,c=s.maxWidth&&s.maxWidth<g,m=s.maxHeight&&s.maxHeight<u,z=s.minWidth&&s.minWidth>g,w=s.minHeight&&s.minHeight>u;s.grid=l;if(z){g+=r}if(w){u+=p}if(c){g-=r}if(m){u-=p}if(/^(se|s|e)$/.test(a)){e.size.width=g;e.size.height=u}else if(/^(ne)$/.test(a)){e.size.width=g;e.size.height=u;e.position.top=o.top-d}else if(/^(sw)$/.test(a)){e.size.width=g;e.size.height=u;e.position.left=o.left-f}else{if(u-p<=0||g-r<=0){t=e._getPaddingPlusBorderDimensions(this)}if(u-p>0){e.size.height=u;e.position.top=o.top-d}else{u=p-t.height;e.size.height=u;e.position.top=o.top+n.height-u}if(g-r>0){e.size.width=g;e.position.left=o.left-f}else{g=r-t.width;e.size.width=g;e.position.left=o.left+n.width-g}}}});return i.ui.resizable});
//# sourceMappingURL=resizable.js.map