"use strict";define("categorySelector",["benchpress","translator","categorySearch"],function(e,t,a){var o={};o.init=function(e,t){t=t||function(){};var o={el:e,selectedCategory:null};e.on("click","[data-cid]",function(){var e=$(this);if(e.hasClass("disabled")){return false}o.selectCategory(e.attr("data-cid"));t(o.selectedCategory)});a.init(e);o.selectCategory=function(e){var t=o.el.find('[data-cid="'+e+'"]');o.selectedCategory={cid:e,name:t.attr("data-name")};if(t.length){o.el.find('[component="category-selector-selected"]').html(t.find('[component="category-markup"]').html())}else{o.el.find('[component="category-selector-selected"]').translateHtml("[[topic:thread_tools.select_category]]")}};o.getSelectedCategory=function(){return o.selectedCategory};o.getSelectedCid=function(){return o.selectedCategory?o.selectedCategory.cid:0};return o};o.modal=function(e,t){if(typeof e==="function"){t=e;e=ajaxify.data.allCategories}app.parseAndTranslate("admin/partials/categories/select-category",{categories:e},function(e){var a=bootbox.dialog({title:"[[modules:composer.select_category]]",message:e,buttons:{save:{label:"[[global:select]]",className:"btn-primary",callback:r}}});var c=o.init(a.find('[component="category-selector"]'));function r(e){e.preventDefault();if(c.selectedCategory){t(c.selectedCategory.cid);a.modal("hide")}return false}a.find("form").on("submit",r)})};return o});
//# sourceMappingURL=categorySelector.js.map