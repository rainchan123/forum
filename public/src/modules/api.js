"use strict";define("api",()=>{const e={};const t=config.relative_path+"/api/v3";function s(e,s){e.url=e.url.startsWith("/api")?config.relative_path+e.url:t+e.url;function r(t){$.ajax(e).done(e=>{t(null,e&&e.hasOwnProperty("status")&&e.hasOwnProperty("response")?e.response:e||{})}).fail(e=>{let s;if(e.responseJSON){s=e.responseJSON.status&&e.responseJSON.status.message?e.responseJSON.status.message:e.responseJSON.error}t(new Error(s||e.statusText))})}if(typeof s==="function"){r(s);return}return new Promise((e,t)=>{r(function(s,r){if(s)t(s);else e(r)})})}e.get=((e,t,r)=>s({url:e+(Object.keys(t).length?"?"+$.param(t):"")},r));e.head=((e,t,r)=>s({url:e+(Object.keys(t).length?"?"+$.param(t):""),method:"head"},r));e.post=((e,t,r)=>s({url:e,method:"post",data:t,headers:{"x-csrf-token":config.csrf_token}},r));e.put=((e,t,r)=>s({url:e,method:"put",data:t,headers:{"x-csrf-token":config.csrf_token}},r));e.del=((e,t,r)=>s({url:e,method:"delete",data:t,headers:{"x-csrf-token":config.csrf_token}},r));return e});
//# sourceMappingURL=api.js.map